!function(){function e(e){return e&&e.__esModule?e.default:e}var t={};var n=function(e){var n=t[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n};(function(e){for(var n=Object.keys(e),a=0;a<n.length;a++)t[n[a]]=e[n[a]]})(JSON.parse('{"4CJo4":"index.f7f86b4b.js","552l7":"questions.23903ad6.json","3xsXk":"bonus-questions.ecca42b2.json","2iHO5":"1.c9b4a659.jpg","62vQT":"2.1a8fdb59.jpg","2hDje":"3.b6b4eeba.jpg","KDbdb":"4.b77716bb.jpg","36iei":"5.7f363b19.jpg","7xqtu":"6.914dc0f0.jpg","pPZIG":"7.17349fb9.jpg","46O7q":"8.37d8f7e3.jpg","yy3ZM":"9.61ae73b7.jpg","30bVQ":"10.83b18c6b.jpg","5eJKp":"1.d781bc73.jpg","3tDeR":"2.89795367.jpg","7CHWj":"3.e99a31e4.jpg","4bQGA":"4.65ee16f9.jpg","2hFnC":"5.61ae73b7.jpg","5ODur":"6.c14f8e09.jpg","1aVQK":"7.4653ffee.jpg","3EGc9":"8.c6f83ff4.jpg","599PO":"9.08227e02.jpg","1jBJa":"10.96146b46.jpg","6bTXS":"1.747615e4.jpg","2UhAA":"2.802319b9.jpg","5ka6R":"3.bb4f41d0.jpg","5iKly":"4.c21a1fcf.jpg","3iOMi":"5.17b1d8d3.jpg","660Q9":"6.e1647010.jpg","1NipU":"7.862487d4.jpg","1hn4U":"8.fe30de94.jpg","4zhz3":"9.be60c1f3.jpg","4RMjC":"10.5e3f9160.jpg","2WV0q":"bonus.f5176319.jpg","4hbTH":"bonus.26d2d497.jpg","4wCkj":"bonus.46c441fd.jpg","2RscH":"noob.85e94599.jpg","53mbr":"amateur.988ca3df.jpg","3tu02":"normal.0be423b6.jpg","3I02q":"advanced.e7805511.jpg","77hOy":"perfect.243db8e3.jpg","WzLaB":"wayne.787108d1.jpg","3SY0t":"answers.fbc2a4a6.json"}'));var a=null;var c,o=function(){return a||(a=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return(""+e[0]).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}return"/"}()),a},r=n;function i(e){if(""===e)return".";var t="/"===e[e.length-1]?e.slice(0,e.length-1):e,n=t.lastIndexOf("/");return-1===n?".":t.slice(0,n)}function s(e,t){if(e===t)return"";var n=e.split("/");"."===n[0]&&n.shift();var a,c,o=t.split("/");for("."===o[0]&&o.shift(),a=0;(a<o.length||a<n.length)&&null==c;a++)n[a]!==o[a]&&(c=a);var r=[];for(a=0;a<n.length-c;a++)r.push("..");return o.length>c&&r.push.apply(r,o.slice(c)),r.join("/")}(c=function(e,t){return s(i(r(e)),r(t))})._dirname=i,c._relative=s;const d=o()+c("4CJo4","552l7");const u=o()+c("4CJo4","3xsXk");var l=e(o()+c("4CJo4","2iHO5"));o(),c("4CJo4","62vQT"),o(),c("4CJo4","2hDje"),o(),c("4CJo4","KDbdb"),o(),c("4CJo4","36iei"),o(),c("4CJo4","7xqtu"),o(),c("4CJo4","pPZIG"),o(),c("4CJo4","46O7q"),o(),c("4CJo4","yy3ZM"),o(),c("4CJo4","30bVQ"),o(),c("4CJo4","5eJKp"),o(),c("4CJo4","3tDeR"),o(),c("4CJo4","7CHWj"),o(),c("4CJo4","4bQGA"),o(),c("4CJo4","2hFnC"),o(),c("4CJo4","5ODur"),o(),c("4CJo4","1aVQK"),o(),c("4CJo4","3EGc9"),o(),c("4CJo4","599PO"),o(),c("4CJo4","1jBJa"),o(),c("4CJo4","6bTXS"),o(),c("4CJo4","2UhAA"),o(),c("4CJo4","5ka6R"),o(),c("4CJo4","5iKly"),o(),c("4CJo4","3iOMi"),o(),c("4CJo4","660Q9"),o(),c("4CJo4","1NipU"),o(),c("4CJo4","1hn4U"),o(),c("4CJo4","4zhz3"),o(),c("4CJo4","4RMjC"),o(),c("4CJo4","2WV0q"),o(),c("4CJo4","4hbTH"),o(),c("4CJo4","4wCkj");const f=e=>{const t=e.answers.img;console.log(l);const n=document.querySelector(".quiz__wrapper"),a=document.createElement("div");a.classList.add("question"),a.innerHTML=`\n    <h3>${e.question}</h3>\n    <img src=${t}>\n    <ul class='answersList answersList_${e.id}'>\n      ${e.answers.i.map((t=>`<li class='listItem listItem__${e.id}'>${t}</li>`)).join("")}\n    </ul>\n  `,n.appendChild(a)},b=async(e,t)=>{document.querySelector(".quiz__wrapper").innerHTML="";const n=await((e,t)=>fetch(t?u:d).then((t=>t.json().then((t=>t[e])))))(e,t);try{n.map((e=>f(e)))}catch{f(n)}};var m=e(o()+c("4CJo4","2RscH")),p=e(o()+c("4CJo4","53mbr")),_=e(o()+c("4CJo4","3tu02")),H=e(o()+c("4CJo4","3I02q")),h=e(o()+c("4CJo4","77hOy")),y=e(o()+c("4CJo4","WzLaB"));const g=(e,t)=>{const n=e/t;let a="",c=null;n<=0?(a="noob",c=m):n<.25?(a="amateur",c=p):n<.6?(a="normal",c=_):n<.8?(a="advanced",c=H):n<=1?(a="perfect",c=h):(a="wayne",c=y);const o={noob:"Przepadnij w mrokach Arkham, heretyku!!!",amateur:"Wiesz, że coś takiego, jak Batman jest. I nic ponad to.",normal:"Tragedii nie ma, ale mogło być lepiej. Znasz Gacka, ale fanem to Ty nie jesteś...",advanced:"Niemal perfekcyjnie! Gratuluję, do pełnego sukcesu zabrakło naprawdę niewiele.",perfect:"Miło poznać prawdziwego fana! Jaskinia Nietoperza niemal nie ma przed Tobą tajemnic!",wayne:"W czym mogę służyć, Paniczu Bruce?"};(async()=>{document.querySelector(".quiz__title").innerHTML=o[a],document.querySelector(".quiz__wrapper").innerHTML=`\n      <img src=${c} alt=${a}>\n      <p>You get ${e} points (${n<0?0:(100*n).toFixed(0)}%).</p>\n    `,document.querySelector(".quiz__navigation").innerHTML="\n      <button name='quit'>Close</button>\n    "})().then(document.querySelector("button[name='quit']").addEventListener("click",(()=>{location.reload()})))};var S=e(o()+c("4CJo4","3SY0t"));const C=(e,t)=>fetch(S).then((e=>e.json())).then((n=>n[t][e])),E=(e,t,n,a)=>{headerContent={onInit:"Welcome to BatQuiz! Please select game level and set your nickname.",onQuiz:`Nice to see you ${n}, let's face with ${a} quiz!`,onBonus:`Great job ${n}! Get more points with bonus ${a} question!`};try{return e.innerText=headerContent[t]}catch{}},j=e=>{const t=[];return e.forEach((e=>{t.push({id:e.classList[1].slice(-3),answer:e.innerHTML})})),t},q=e=>{e.target.parentElement.querySelector(".listItem--active")&&e.target.parentElement.querySelector(".listItem--active").classList.remove("listItem--active"),e.target.classList.add("listItem--active")},v=e=>{switch(e){case"easy":return 2;case"normal":return 1.5;case"hard":return 1}},A=e=>{switch(e){case"easy":return 2;case"normal":return 5;case"hard":return 7}},R=async(e,t,n,a)=>{let c=0;maxCount=10+10*A(t);const o=await(async(e,t,n,a)=>{const c=await C(t,n);return e.forEach((e=>{c.find((n=>{n.id===e.id&&(n.answer.toLowerCase()===e.answer.toLowerCase()?a+=A(t):a-=v(t))}))})),a})(e,t,n,c);if("quiz"===n?c=10+(e.length-10)*v(t):"bonus"===n&&(c=c),c+=o,c===maxCount){const e=e=>q(e);E(document.querySelector(".quiz__title"),"onBonus",a,t);(async()=>{await b(t,"bonus");document.querySelector(".quiz__navigation").innerHTML="\n        <button name='resolveBonus'>Send!</button>\n      ",document.querySelectorAll(".listItem").forEach((t=>{t.addEventListener("click",e)}))})();const n=async()=>{const e=await C(t,"bonus"),n=j(document.querySelectorAll(".listItem--active"))[0];try{e.find((e=>{e.id===n.id&&e.answer.toLowerCase()===n.answer.toLowerCase()&&(c+=2*A(t))})),g(c,maxCount+2*A(t))}catch{g(c,maxCount+2*A(t))}};document.querySelector(".quiz__navigation").addEventListener("click",n)}else g(c,maxCount+2*A(t))};(()=>{const e=document.createElement("header");e.classList.add("header");const t=document.createElement("h1");t.classList.add("title"),t.innerHTML="Lorem Ipsum",document.querySelector("body").appendChild(e),e.appendChild(t)})(),(()=>{const e=document.createElement("main");e.classList.add("wrapper"),document.querySelector("body").appendChild(e),(e=>{const t="",n="";let a=t,c=n,o="onInit",r=null;const i=e=>q(e),s=e=>{a=e.target.name,document.querySelector(".alertMessage").innerHTML=""},d=()=>{const e=()=>{R(j(document.querySelectorAll(".listItem--active")),a,null===r?"quiz":"bonus",c)};document.querySelectorAll(".listItem--active").length<10&&confirm("Quiz is not finished yet. Are you sure you want to continue?")&&e(),e()},u=()=>{confirm("Are you sure you want to quit?")&&location.reload()},l=document.createElement("section");l.classList.add("quiz");const f=document.createElement("h3");f.classList.add("quiz__title"),E(f,o);const m=document.createElement("div");m.classList.add("quiz__wrapper"),(async()=>{var t,n;m.innerHTML=`\n  <div class='buttonWrapper'>\n    ${t=["easy","normal","hard"],n="selectDifficulty",t.map((e=>{return`\n  <button class=${n} name=${e}>${t=e,t.charAt(0).toUpperCase()+t.slice(1)}</button>\n  `;var t})).join("")}\n  </div>\n  <input class='nameForm_playerName' name='name' />\n  <label for='name'>Your nickname</label>\n  <p class='alertMessage'>\n  </p>\n  `;const a=document.createElement("div");a.classList.add("quiz__navigation"),a.innerHTML="\n  <button name='submit'>Start</button>\n  <button name='reset'>Reset</button>\n  ",l.appendChild(f),l.appendChild(m),l.appendChild(a),e.appendChild(l)})().then(document.querySelectorAll(".selectDifficulty").forEach((e=>{e.addEventListener("click",s)}))).then(document.querySelector(".nameForm_playerName").addEventListener("change",(e=>{c=e.target.value,document.querySelector(".alertMessage").innerHTML=""}))).then(document.querySelector("button[name='reset']").addEventListener("click",(()=>{a=t,c=n,document.querySelector(".nameForm_playerName").value="",document.querySelector(".alertMessage").innerHTML=""}))).then(document.querySelector("button[name='submit']").addEventListener("click",(async function(){if(""===a)try{throw new Error("Choose quiz difficulty")}catch(e){return document.querySelector(".alertMessage").innerHTML=e.message}else if(""===c||" "===c)try{throw new Error("Don't be shy, introduce yourself!")}catch(e){return document.querySelector(".alertMessage").innerHTML=e.message}await b(a),E(f,"onQuiz",c,a),document.querySelectorAll(".listItem").forEach((e=>{e.addEventListener("click",i)})),document.querySelector(".quiz__navigation").innerHTML="\n        <button name='resolve'>Send!</button>\n        <button name='giveUp'>Give up</button>\n      ",document.querySelector("button[name='resolve']").addEventListener("click",d),document.querySelector("button[name='giveUp']").addEventListener("click",u)})))})(e)})(),(()=>{const e=(new Date).getFullYear(),t=document.createElement("footer");t.classList.add("footer"),t.innerHTML=`\n    <footer>\n      <p>${e} &copy DM</p>\n    </footer>\n  `,document.querySelector("body").appendChild(t)})()}();
//# sourceMappingURL=index.f7f86b4b.js.map
